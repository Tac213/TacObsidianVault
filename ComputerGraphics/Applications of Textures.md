纹理实际上就是显卡上的一段内存空间，除了纹理映射，还能做很多事情，比如：

- 环境光照
- 凹凸贴图(法线贴图)
- 位移贴图
- 3D纹理

## 环境光照

将环境光照信息记录下来作为纹理应用在模型上，就能做出类似镜面反射效果的贴图。

比如可以把环境光信息记录在一个球面上，这个球称为Spherical Environment Map。但将环境光信息储存成球是会存在问题的，比如球的极点附近会出现扭曲。此时可以使用cube map，即在球的外部做一个立方体的包围盒，球面上的信息从球心开始延长出去，记录在立方体表面，此时环境光信息就被储存成了6个square texture map。

## 凹凸贴图

凹凸贴图也称为法线贴图，其原理是在贴图上记录这一点相对于物体原表面的高度偏差，从而影响了着色时法线的方向，改变作色结果，看起来有一种物体表面凹凸不平的效果。

凹凸贴图**并没有改变物体原本的三角面数**，只是改变了shading时的法线方向，因此又称为法线贴图。

在计算某一个(u, v)位置的法线位置时，通常通过梯度的方法：u方向加一个像素的改变量为$dp_u$，v方向上加一个像素的改变量为$dp_v$，那么该点的法向量：

$$\vec n = (-\frac {\mathrm dp_u}{\mathrm du}, -\frac {\mathrm dp_v}{\mathrm dv}, 1).normalized()$$

计算时是在原本法向量坐标为$(0, 0, 1)$这一局部坐标系下，计算完成后要转换回世界坐标系。

## 位移贴图

位移贴图也会造成凹凸不平的效果，和凹凸贴图的区别是：位移贴图作用在三角形的顶点上，使三角形的顶点发生了位移，从而产生凹凸不平的效果。

DirectX的Dynamic Texelation动态曲面细分技术，可以将位移贴图的位移信息作用在一个三角形的面里面，将原本的一个三角形拆分成多个三角形。

## 3D纹理

3D纹理定义了3D空间中任何一个点的值，此时如果定义一个3D空间中的噪声函数，那么就可以通过3D纹理算出3D空间中的噪声。比较广泛的应用使[Perlin noise](https://en.wikipedia.org/wiki/Perlin_noise)。

## 提供事先计算好的信息

因为纹理本质上只是一段内存空间，所以纹理也可以提供一些事先计算好的信息，比如事先计算好的阴影纹理（环境光遮蔽），在贴原本的纹理的同时再贴上环境光遮蔽（相乘），就能在不计算光照的情况下得到带有环境光遮蔽效果的物体。
